{"version":3,"sources":["webpack://idolfest-event/./node_modules/@material-ui/core/esm/styles/makeStyles.js","webpack://idolfest-event/./src/components/NewsletterSignup.js","webpack://idolfest-event/./src/components/ImageCarousel.js","webpack://idolfest-event/./src/components/SisterBanner.js","webpack://idolfest-event/./src/pages/index.js"],"names":["stylesOrCreator","options","arguments","length","undefined","defaultTheme","useStyles","makeStyles","theme","formWrapper","margin","backgroundColor","width","height","border","NewsletterSignup","classes","className","title","src","carouselSlider","maxWidth","position","overflow","objectFit","carouselSlide","textAlign","btn","padding","borderRadius","zIndex","cursor","palette","light_pink","fontSize","lineHeight","top","transform","dark_pink","btnPrev","left","btnNext","right","props","sliderRef","createRef","useState","currentSlide","updateSlide","hasInitialized","setInitialized","hasInteracted","setHasInteracted","useEffect","current","querySelectorAll","forEach","slide","idx","style","transition","document","interval","setInterval","goNextRaw","clearInterval","useCallback","images","goNext","goPrev","imageFiles","ref","map","img","animationDuration","key","relativePath","G","image","childImageSharp","gatsbyImageData","placeholder","alt","onClick","banner","marginBottom","boxShadow","paddingRight","scIdolfestLogo","S","layout","transformOptions","fit","useStaticQuery","site","siteMetadata","sisterBannerEvent","sisterBannerText","sisterBannerIcon","href","target","rel","homepageData","body","registerButtonEnabled","buttons","feedbackButtonEnabled","introWrapper","introText","opacity","introLine","carouselHolder","display","placeItems","htmlBody","whiteSpace","fontWeight","paddingBottom","buttonHolder","flexWrap","flexGrow","flexBasis","marginTop","scheduleBanner","query","firstDayText","shortDates","now","moment","firstDay","split","trim","mondayBefore","clone","startOf","add","days","i","push","scheduleDay","filter","d","isSame","isLeadup","isAfter","isBefore","scheduleObj","theDay","format","toLowerCase","nodes","PageHeader","PageContent","dangerouslySetInnerHTML","__html","Button","variant","size","b","text"],"mappings":"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","file":"component---src-pages-index-js-a7d9f6f6da37f4c46d1e.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { makeStyles as makeStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return makeStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default makeStyles;","import React from  'react'\nimport { makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  formWrapper: {\n    // Make the form look closer to what we normally use.\n    margin: \"-32px -16px -24px\",\n    \"& iframe\": {\n        // Make the huge whitespace around the form not hide anything it overlaps with\n      backgroundColor: \"transparent !important\",\n      width: \"100%\",\n      height: \"300px\",\n      border: \"none\"\n    }\n\n  }\n}))\n\n\nexport default function NewsletterSignup() {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.formWrapper}>\n      <iframe title=\"newsletter signup\" src=\"https://cdn.forms-content.sg-form.com/5a148981-d952-11ed-a113-4e969da5ff55\"/>\n    </div>\n  )\n}\n","import React, {useEffect, useState, useCallback, createRef} from  'react'\nimport { makeStyles } from '@material-ui/styles'\nimport { GatsbyImage } from 'gatsby-plugin-image'\n\nconst useStyles = makeStyles(theme => ({\n  carouselSlider: {\n    width: \"100%\",\n    maxWidth: \"800px\",\n    height: \"400px\",\n    position: \"relative\",\n    overflow: \"hidden\",\n    '@media (max-width: 800px)': {\n      width: \"calc(100vw - 4em)\",\n      height: \"200px\",\n      \"& img\": {\n        objectFit: \"scale-down !important\"\n      }\n    }\n  },\n  carouselSlide: {\n    width: \"100%\",\n    maxWidth: \"100vw\",\n    height: \"400px\",\n    position: \"absolute\",\n    textAlign: \"center\",\n\n    '& > div': {\n      height: \"400px\",\n      objectFit: \"cover\"\n    },\n\n    '@media (max-width: 800px)': {\n      '& > div': {\n        height: \"200px\",\n      },\n      height: \"auto\",\n    }\n\n  },\n  btn: {\n    position: \"absolute\",\n    width: \"40px\",\n    height: \"40px\",\n    padding: \"10px\",\n    border: \"none\",\n    borderRadius: \"50%\",\n    zIndex: 10,\n    cursor: \"pointer\",\n    backgroundColor: theme.palette.light_pink,\n    fontSize: \"18px\",\n    lineHeight: \"18px\",\n    top: \"45%\",\n\n    '@media (max-width: 800px)': {\n      top: \"40%\",\n    },\n\n    '&:active': {\n      transform: \"scale(1.1)\",\n      backgroundColor: theme.palette.dark_pink\n    }\n  },\n  btnPrev: {\n    left: \"2%\"\n  },\n  btnNext: {\n    right: \"2%\"\n  }\n}))\n\n\nconst ImageCarousel = (props) => {\n  const classes = useStyles()\n  const sliderRef = createRef()\n  const [currentSlide, updateSlide] = useState(0)\n  const [hasInitialized, setInitialized] = useState(false)\n  const [hasInteracted, setHasInteracted] = useState(false)\n  \n  useEffect(() => {\n    if (!hasInitialized) { \n      const slides = document.querySelectorAll(`.${classes.carouselSlide}`)\n      slides.forEach((slide, idx) => {\n        slide.style.transform = `translateX(${idx * 100}%)`\n      })\n    } else {\n\n      const slides = sliderRef.current.querySelectorAll(`.${classes.carouselSlide}`)\n      slides.forEach((slide, idx) => {\n        slide.style.transform = `translateX(${100 * (idx - currentSlide)}%)`\n        slide.style.transition = \"all 0.5s\";\n      })\n    }\n  }, [hasInitialized, setInitialized, classes, currentSlide, sliderRef])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (!hasInteracted) {\n        goNextRaw()\n      }\n    }, 4000)\n    return () => clearInterval(interval)\n  })\n\n  const goNextRaw = useCallback(() => {\n    setInitialized(true)\n    if (currentSlide < props.images.length - 1) {\n      updateSlide(currentSlide + 1)\n    } else {\n      updateSlide(0);\n    }\n  }, [currentSlide, updateSlide, props])\n\n  const goNext = useCallback(() => {\n    setHasInteracted(true)\n    goNextRaw()\n  }, [setHasInteracted, goNextRaw])\n\n  const goPrev = useCallback(() => {\n    setInitialized(true)\n    setHasInteracted(true)\n    if (currentSlide > 0) {\n      updateSlide(currentSlide - 1)\n    } else {\n      updateSlide(props.images.length - 1);\n    }\n  }, [currentSlide, updateSlide, props])\n\n\n  const imageFiles = props.images;\n  return (\n      <div className={`${classes.carouselSlider}`} ref={sliderRef}>\n          {imageFiles.map(img => \n            <div className={`${classes.carouselSlide}`} style={{animationDuration: props.animationDuration}} key={img.relativePath}>\n              <GatsbyImage image={img.childImageSharp.gatsbyImageData} placeholder=\"blurred\" alt=\"Prior event\" />\n            </div>)}\n        <button className={`${classes.btn} ${classes.btnNext}`} onClick={goNext}>&gt;</button>\n        <button className={`${classes.btn} ${classes.btnPrev}`} onClick={goPrev}>&lt;</button>\n      </div>\n  )\n}\n\nexport default ImageCarousel\n","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport { StaticImage } from 'gatsby-plugin-image'\n\nimport { graphql, useStaticQuery } from 'gatsby'\n\nconst useStyles = makeStyles(theme => ({\n    banner: {\n      // Make the form look closer to what we normally use.\n      fontSize: \"20px\",\n      lineHeight: \"45px\",\n      border: \"1px solid #aaa\",\n      borderRadius: \"10px\",\n      marginBottom: \"16px\",\n      padding: \"5px\",\n      \"& a\": {\n        boxShadow: \"none\",\n      },\n      \"& img\": {\n        paddingRight: \"20px\"\n      },\n      '@media (max-width: 800px)': {\n        fontSize: \"16px\",\n        lineHeight: \"32px\",\n        textAlign: \"center\"\n      }\n  \n    }\n  }))\n  \n\nconst scIdolfestLogo = (\n    <StaticImage\n          layout='constrained'\n          // This is a presentational image, so the alt should be an empty string\n          alt=''\n          height={50}\n          transformOptions={{fit: \"contain\"}}\n          src='../images/logo/socal_test.png'\n          placeholder='none'\n          backgroundColor='transparent'\n          />\n  );\n\nconst SisterBanner = (props) => {\n    const classes = useStyles()\n    const { site: {siteMetadata: {sisterBannerEvent, sisterBannerText}}} = useStaticQuery(\n        graphql`\n            query {\n                site {\n                    siteMetadata {\n                        sisterBannerEvent,\n                        sisterBannerText\n                    }\n                }            \n            }`\n    )\n  let sisterBannerIcon = <></>\n    \n  switch (sisterBannerEvent) {\n    case \"scif\":\n      sisterBannerIcon = scIdolfestLogo;\n      break;\n    case \"none\":\n    default:\n      return <></>\n  }\n\n  return (\n      <div className={classes.banner}>\n        <a href=\"https://scidolfest.com\" target=\"_blank\" rel=\"noreferrer\">\n            {sisterBannerIcon}\n            {sisterBannerText}\n        </a>\n      </div>\n  )\n}\n\nexport default SisterBanner\n","import React from  'react'\nimport Layout from '@components/layout'\nimport Seo from '@components/seo'\nimport PageContent from '@components/PageContent'\nimport NewsletterSignup from '@components/NewsletterSignup'\nimport PageHeader from '@components/PageHeader'\nimport { graphql, useStaticQuery } from 'gatsby'\nimport { makeStyles, Button } from '@material-ui/core'\nimport ImageCarousel from \"../components/ImageCarousel\"\nimport SisterBanner from \"../components/SisterBanner\"\nimport moment from 'moment'\n\nimport homepageData from \"./homepage.json\"\nconst { title, body, registerButtonEnabled, buttons, feedbackButtonEnabled } = homepageData\n\nconst useStyles = makeStyles(theme => ({\n  introWrapper: {\n    position: \"relative\"\n  },\n  introText: {\n    position: \"absolute\",\n    backgroundColor: \"#fff\",\n    borderRadius: \"5px\",\n    opacity: \"0.85\",\n    top: \"calc(50% - 8px)\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    padding: \"4px 16px\",\n    textAlign: \"center\"\n  },\n  introLine: {\n    width: \"100%\",\n    backgroundColor: \"#fff\",\n    height: \"4px\"\n  },\n  carouselHolder: {\n    margin: \"auto\",\n    display: \"grid\",\n    placeItems: \"center\",\n    marginBottom: \"24px\",\n  },\n  htmlBody: {\n    whiteSpace: \"pre-wrap\",\n    fontSize: \"1.5em\",\n    fontWeight: 400,\n    lineHeight: 1.25,\n    paddingBottom: \"1em\"\n  },\n  buttonHolder: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    \"& > a\": {\n      flexGrow: 1,\n      margin: \"4px 32px\",\n      width: \"200px\",\n      flexBasis: \"200px\",\n      marginTop: \"24px\",\n      textAlign: \"center\"\n    },\n    \"& > .MuiButton-sizeLarge\": {\n      fontSize: \"150%\"\n    }\n  },\n  scheduleBanner: {\n    fontSize: \"20px\",\n    lineHeight: \"45px\",\n    border: \"1px solid #aaa\",\n    borderRadius: \"10px\",\n    marginBottom: \"16px\",\n    textAlign: \"center\",\n    padding: \"5px 20px\",\n    \"& a\": {\n      boxShadow: \"none\",\n    },\n    '@media (max-width: 800px)': {\n      fontSize: \"16px\",\n      lineHeight: \"32px\",\n      textAlign: \"center\"\n    }\n  }\n}))\n\n\nconst IndexPage = () => {\n  const classes = useStyles()\n\n  const query = useStaticQuery(graphql`\n  query { \n    images: allFile (filter: {sourceInstanceName: {eq: \"images\"}, relativePath: {glob: \"public-photo-carousel/*.[j|J][p|P][g|G]\"}}) {\n      nodes {\n        relativePath\n        childImageSharp {\n          gatsbyImageData(\n            height: 400\n            quality: 90\n          )\n        }\n      }\n    }\n    site {\n      siteMetadata {\n          shortDates\n      } \n    }  \n  }`)\n\n  const firstDayText = query.site.siteMetadata.shortDates\n  const now = moment()\n  const firstDay = moment(firstDayText.split(/[-,]/)[0].trim() + \" \" + firstDayText.split(/[-,]/)[2].trim(), \"MMM DD YYYY\", true)\n  const mondayBefore = firstDay.clone().startOf('week').add(1, 'day')\n  const days = []\n  for (let i = 0; i < homepageData.scheduleDays; i++) {\n    days.push(firstDay.clone().add(i, 'days'))\n  }\n\n  const scheduleDay = days.filter(d => now.isSame(d, 'day'))\n\n  const isLeadup = now.isAfter(mondayBefore) && now.isBefore(days[0])\n  let scheduleObj = <></>\n\n  if (isLeadup) {\n    const theDay = days[0].format('dddd')\n    scheduleObj = (\n      <a href={`/events/${theDay.toLowerCase()}`}>\n        <div className={classes.scheduleBanner} href={`/events/${theDay.toLowerCase()}`}>\n          Click here for the {theDay} schedule!\n        </div>\n      </a>)\n  } else if (scheduleDay.length > 0) {\n    const theDay = scheduleDay[0].format('dddd')\n    scheduleObj = (\n      <a href={`/events/${theDay.toLowerCase()}`}>\n        <div className={classes.scheduleBanner}>\n          Click here for today's schedule!\n        </div>\n      </a>)\n  }\n  \n  \n  const imageFiles = query.images.nodes;\n  return (\n    <Layout>\n      <Seo title=\"Home\" />\n\n      <PageHeader title={title}/>\n\n      <PageContent>\n        <SisterBanner />\n        {scheduleObj}\n        <div className={classes.carouselHolder}>\n          <ImageCarousel images={imageFiles} />\n        </div>\n        <div className={classes.htmlBody} dangerouslySetInnerHTML={{__html: body}} />\n        {registerButtonEnabled ? \n          <div className={classes.buttonHolder}>\n            <Button variant=\"contained\" size=\"large\" className=\"cta\" href=\"/register\">Buy a Badge</Button>\n          </div> :<></> }\n        {feedbackButtonEnabled ?\n          <div className={classes.buttonHolder}>\n            <Button variant=\"contained\" size=\"large\" className=\"cta\" href=\"https://idolfe.st/feedback\">Give us Feedback</Button>\n          </div> :<></> }\n        <div className={classes.buttonHolder} style={{width: buttons.length === 1 ? \"50%\" : \"100%\", margin: \"auto\"}}>\n          {buttons.map(b => <Button key={b.href} variant=\"contained\" className=\"cta\" href={b.href}>{b.text}</Button>)}\n        </div>\n        <br />\n        <br />\n        {/* sendgrid terminated our account and deleted our contacts and contact lists without warning. Disable while we weather this storm\n        <p>Sign up for our email list below to get notifications for future announcements.</p> \n        <NewsletterSignup /> */}\n      </PageContent>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}